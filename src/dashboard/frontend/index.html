<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEM Image Alignment Dashboard</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <button class="btn btn-ghost theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                <span id="themeIcon">ðŸŒ™</span>
            </button>
            <div class="header-content">
                <h1>SEM Image Alignment Dashboard</h1>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-value" id="totalTests">-</span>
                    <span class="stat-label">Total Tests</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="successRate">-</span>
                    <span class="stat-label">Success Rate</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="avgTime">-</span>
                    <span class="stat-label">Avg Time (ms)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="testSessions">-</span>
                    <span class="stat-label">Test Sessions</span>
                </div>
            </div>
        </header>

        <!-- Filters -->
        <section class="filters">
            <div class="filters-header">
                <h3>Filter Results</h3>
                <span class="filter-status" id="filterStatus"></span>
            </div>
            <div class="filter-grid">
                <div class="filter-group">
                    <label for="algorithmFilter">Algorithm</label>
                    <select id="algorithmFilter">
                        <option value="">All Algorithms</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="patchSizeFilter">Patch Size</label>
                    <select id="patchSizeFilter">
                        <option value="">All Sizes</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="transformationFilter">Transformation</label>
                    <select id="transformationFilter">
                        <option value="">All Transformations</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>
                        <input type="checkbox" id="successOnlyFilter">
                        Success Only
                    </label>
                </div>
            </div>
            <div class="filter-actions">
                <button class="btn btn-secondary" onclick="clearFilters()">
                    Clear Filters
                </button>
                <button class="btn btn-primary" onclick="refreshData()">
                    Refresh
                </button>
            </div>
        </section>

        <!-- Test Sessions -->
        <section class="sessions-section">
            <h3 class="section-header">Test Sessions</h3>
            <div id="sessionsList" class="sessions-list">
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            </div>
        </section>

        <!-- Main Content Grid -->
        <div class="test-details-grid">
            <!-- Test Cases -->
            <section class="test-cases-section">
                <h3 class="section-header">Test Cases</h3>
                <div class="test-cases-container">
                    <div id="testCasesList" class="empty-state">
                        Select a test session to view details
                    </div>
                </div>
            </section>

            <!-- Image Results -->
            <section class="image-results-section">
                <h3 class="section-header">Visual Results</h3>
                <div class="image-results-container" id="imageResults">
                    <div class="empty-state">
                        Select a test case to view visual results
                    </div>
                </div>
            </section>
        </div>

        <!-- Performance Summary -->
        <section class="performance-section">
            <h3 class="section-header">Algorithm Performance Summary</h3>
            <div id="algorithmSummary" class="algorithm-grid">
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript Modules -->
    <script src="/static/app.js"></script>
    <script src="/static/rendering.js"></script>
    <script src="/static/interactions.js"></script>
</body>
</html>